<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Farmer GPS Simulator</title>
  <style>
    :root {
      --bg: #0a0e1a;
      --card: #1a2540;
      --text: #e9f2ff;
      --accent: #9CFF6E;
      --border: rgba(156, 255, 110, 0.3);
    }
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body {
      font-family: ui-rounded, system-ui, sans-serif;
      background: linear-gradient(180deg, #0a0e1a, #1a3a1a);
      color: var(--text);
      min-height: 100vh;
      padding: 20px;
    }
    .container {
      max-width: 1200px;
      margin: 0 auto;
    }
    .header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 30px;
    }
    h1 {
      font-size: 2.5rem;
      color: var(--accent);
    }
    .back-btn {
      padding: 12px 24px;
      background: rgba(156, 255, 110, 0.2);
      border: 2px solid var(--border);
      border-radius: 12px;
      color: var(--accent);
      text-decoration: none;
      font-weight: 700;
      transition: all 0.3s ease;
    }
    .back-btn:hover {
      background: rgba(156, 255, 110, 0.3);
      transform: translateY(-2px);
    }
    .simulator {
      display: grid;
      grid-template-columns: 1fr 300px;
      gap: 20px;
      margin-top: 20px;
    }
    .visualizer {
      background: var(--card);
      border: 2px solid var(--border);
      border-radius: 20px;
      padding: 30px;
      min-height: 500px;
    }
    .field-display {
      width: 100%;
      height: 400px;
      background: linear-gradient(135deg, #2d5016 0%, #1a3a1a 100%);
      border-radius: 12px;
      position: relative;
      overflow: hidden;
    }
    .tractor {
      position: absolute;
      width: 40px;
      height: 40px;
      background: var(--accent);
      border-radius: 8px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 24px;
      transition: all 0.5s ease;
      box-shadow: 0 4px 10px rgba(156, 255, 110, 0.5);
    }
    .field-line {
      position: absolute;
      height: 2px;
      background: rgba(156, 255, 110, 0.3);
      transform-origin: left;
    }
    .gps-signal {
      position: absolute;
      top: 20px;
      right: 20px;
      width: 60px;
      height: 60px;
      border-radius: 50%;
      background: radial-gradient(circle, var(--accent), transparent);
      animation: pulse 2s ease-in-out infinite;
    }
    @keyframes pulse {
      0%, 100% { opacity: 0.3; transform: scale(1); }
      50% { opacity: 0.7; transform: scale(1.2); }
    }
    .controls {
      background: var(--card);
      border: 2px solid var(--border);
      border-radius: 20px;
      padding: 20px;
    }
    .control-group {
      margin-bottom: 25px;
    }
    .control-group label {
      display: block;
      font-weight: 700;
      margin-bottom: 10px;
      color: var(--accent);
    }
    .control-group input[type="range"] {
      width: 100%;
      height: 8px;
      background: rgba(156, 255, 110, 0.2);
      border-radius: 4px;
      outline: none;
    }
    .control-group input[type="range"]::-webkit-slider-thumb {
      appearance: none;
      width: 20px;
      height: 20px;
      background: var(--accent);
      border-radius: 50%;
      cursor: pointer;
    }
    .value-display {
      display: inline-block;
      padding: 4px 12px;
      background: rgba(156, 255, 110, 0.2);
      border-radius: 8px;
      font-weight: 700;
      margin-top: 8px;
    }
    .info {
      margin-top: 20px;
      padding: 15px;
      background: rgba(156, 255, 110, 0.1);
      border-radius: 12px;
      font-size: 0.9rem;
      line-height: 1.6;
    }
    @media (max-width: 768px) {
      .simulator {
        grid-template-columns: 1fr;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1>üöú Fred's GPS Navigation Challenge</h1>
      <a href="index.html" class="back-btn">‚Üê Back to Home</a>
    </div>
    
    <!-- Educational Content Section -->
    <div style="background: var(--card); border: 2px solid var(--border); border-radius: 20px; padding: 30px; margin-bottom: 30px;">
      <h2 style="color: var(--accent); margin-bottom: 20px;">üìñ Lesson: Space Weather and GPS Technology</h2>
      
      <div style="margin-bottom: 25px;">
        <h3 style="color: var(--accent); font-size: 1.3rem; margin-bottom: 10px;">üéØ Definition</h3>
        <p style="line-height: 1.8;">Space weather refers to changes in the space environment, particularly in the region between the Sun and Earth. Solar flares and coronal mass ejections (CMEs) can release massive amounts of energy and charged particles that travel through space and interact with Earth's magnetic field and atmosphere.</p>
        <p style="line-height: 1.8; margin-top: 10px;"><strong>GPS (Global Positioning System)</strong> relies on radio signals traveling from satellites to receivers on Earth. These signals pass through the ionosphere‚Äîa layer of Earth's atmosphere filled with charged particles. When space weather disturbs the ionosphere, GPS signals can be delayed, bent, or scattered, reducing positioning accuracy.</p>
      </div>
      
      <div style="margin-bottom: 25px;">
        <h3 style="color: var(--accent); font-size: 1.3rem; margin-bottom: 10px;">üî¨ Scientific Properties</h3>
        <ul style="line-height: 1.8; padding-left: 25px;">
          <li><strong>Ionospheric Delay:</strong> GPS signals travel at the speed of light in a vacuum but slow down when passing through the ionosphere. During solar storms, electron density increases, causing greater signal delays (typically 5-15 meters error, but can exceed 50 meters during severe storms).</li>
          <li><strong>Signal Scintillation:</strong> Rapid fluctuations in signal amplitude and phase caused by ionospheric irregularities. This can cause GPS receivers to lose lock on satellites.</li>
          <li><strong>Satellite Visibility:</strong> GPS needs signals from at least 4 satellites for 3D positioning. Space weather can disrupt signals, effectively reducing the number of usable satellites.</li>
          <li><strong>Total Electron Content (TEC):</strong> Measured in TECU (TEC Units), where 1 TECU = 10¬π‚Å∂ electrons/m¬≤. Normal values: 10-80 TECU. During storms: can exceed 200 TECU.</li>
        </ul>
      </div>
      
      <div style="margin-bottom: 25px;">
        <h3 style="color: var(--accent); font-size: 1.3rem; margin-bottom: 10px;">üëÄ Real-World Observations</h3>
        <p style="line-height: 1.8;"><strong>NASA Data Example:</strong> During the <a href="https://data.nasa.gov/" target="_blank" style="color: #7cf4ff;">Halloween Storms of October 2003</a>, GPS errors increased from typical 1-5 meters to over 50 meters in some locations. The Federal Aviation Administration reported navigation problems affecting aircraft approaches.</p>
        <p style="line-height: 1.8; margin-top: 10px;"><strong>Agriculture Impact:</strong> Modern precision farming relies on GPS accuracy within 2-5 cm for automated planting, fertilizing, and harvesting. A solar storm causing 20+ meter errors would make automated operations impossible, forcing farmers to switch to manual control and potentially causing crop damage from imprecise operations.</p>
      </div>
      
      <div style="margin-bottom: 25px;">
        <h3 style="color: var(--accent); font-size: 1.3rem; margin-bottom: 10px;">üìä Understanding the Controls</h3>
        <div style="background: rgba(156, 255, 110, 0.1); padding: 15px; border-radius: 10px; margin-top: 10px;">
          <p style="margin-bottom: 10px;"><strong>Ionospheric Disturbance (0-100%):</strong> Represents the level of ionospheric irregularities. 0% = calm conditions, 100% = severe space weather event. Higher values increase GPS signal delays and errors.</p>
          <p style="margin-bottom: 10px;"><strong>Available Satellites (4-12):</strong> Number of GPS satellites visible to the receiver. Minimum 4 needed for positioning. During space weather, some satellites' signals become unusable. Fewer satellites = reduced accuracy and reliability.</p>
          <p style="margin-bottom: 10px;"><strong>GPS Accuracy (1-50 meters):</strong> The positioning error radius. Precision agriculture needs <5m. General navigation works up to 10m. Above 20m, automated systems fail.</p>
          <p><strong>Tractor Speed (0-20 km/h):</strong> Operating speed. Higher speeds with poor GPS accuracy increase the risk of deviating from planned paths, potentially damaging crops.</p>
        </div>
      </div>
      
      <div style="background: rgba(255, 209, 102, 0.1); padding: 20px; border-radius: 12px; border-left: 4px solid #FFD166;">
        <h3 style="color: #FFD166; font-size: 1.2rem; margin-bottom: 10px;">üåæ Fred's Story</h3>
        <p style="line-height: 1.8; font-style: italic;">"I'm Fred, and I run a 500-acre corn farm in Nebraska. Five years ago, I invested in GPS-guided tractors that can plant seeds with centimeter accuracy. On March 13th, 2023, I started my spring planting at dawn. Everything was perfect‚Äîuntil 10 AM. Suddenly, my tractor's GPS showed position jumping around by 30 feet! I had to stop immediately before I planted over areas I'd just finished. Later I learned a solar flare had hit Earth. I lost half a day of work and had to check all my rows manually. Now I monitor space weather forecasts before planning field work."</p>
      </div>
    </div>
    
    <div style="background: var(--card); border: 2px solid var(--border); border-radius: 20px; padding: 30px; margin-bottom: 30px;">
      <h2 style="color: var(--accent); margin-bottom: 20px;">üéÆ Interactive Simulation</h2>
      <p style="line-height: 1.8; margin-bottom: 20px;">Experience how space weather affects Fred's farm operations. Adjust the sliders to simulate different space weather conditions and observe how GPS accuracy and farm operations are impacted.</p>
    </div>
    
    <div class="simulator">
      <div class="visualizer">
        <h2 style="margin-bottom: 20px;">Precision Farming Field</h2>
        <div class="field-display" id="fieldDisplay">
          <div class="gps-signal" id="gpsSignal"></div>
          <div class="tractor" id="tractor">üöú</div>
        </div>
        <div class="info">
          <strong>GPS Status:</strong>
          <p id="statusText">Signal strong. Precision planting active.</p>
        </div>
      </div>
      
      <div class="controls">
        <h3 style="margin-bottom: 20px; color: var(--accent);">Control Panel</h3>
        
        <div class="control-group">
          <label for="ionospheric">Ionospheric Disturbance 
            <span style="font-size: 0.8rem; font-weight: normal; opacity: 0.8;">(Space weather intensity)</span>
          </label>
          <input type="range" id="ionospheric" min="0" max="100" value="10">
          <div class="value-display" id="ionosphericValue">10%</div>
          <p style="font-size: 0.75rem; margin-top: 5px; opacity: 0.9;">Higher values = more charged particles in ionosphere = greater GPS signal delays</p>
        </div>
        
        <div class="control-group">
          <label for="satellites">Available Satellites
            <span style="font-size: 0.8rem; font-weight: normal; opacity: 0.8;">(GPS constellation visibility)</span>
          </label>
          <input type="range" id="satellites" min="4" max="12" value="8">
          <div class="value-display" id="satellitesValue">8</div>
          <p style="font-size: 0.75rem; margin-top: 5px; opacity: 0.9;">Need minimum 4 for positioning; more satellites = better accuracy and reliability</p>
        </div>
        
        <div class="control-group">
          <label for="accuracy">GPS Accuracy (meters)
            <span style="font-size: 0.8rem; font-weight: normal; opacity: 0.8;">(Position error radius)</span>
          </label>
          <input type="range" id="accuracy" min="1" max="50" value="5">
          <div class="value-display" id="accuracyValue">5 m</div>
          <p style="font-size: 0.75rem; margin-top: 5px; opacity: 0.9;">Precision farming needs <5m; above 20m automated systems may fail</p>
        </div>
        
        <div class="control-group">
          <label for="speed">Tractor Speed (km/h)
            <span style="font-size: 0.8rem; font-weight: normal; opacity: 0.8;">(Operating velocity)</span>
          </label>
          <input type="range" id="speed" min="0" max="20" value="10">
          <div class="value-display" id="speedValue">10 km/h</div>
          <p style="font-size: 0.75rem; margin-top: 5px; opacity: 0.9;">Higher speed with poor GPS = higher risk of path deviation and crop damage</p>
        </div>
        
        <div class="info" style="font-size: 0.85rem;">
          <p><strong>Impact:</strong></p>
          <p>Solar storms disrupt GPS signals, affecting precision agriculture operations.</p>
        </div>
      </div>
    </div>
  </div>
  
  <!-- Exercise Section -->
  <div class="container" style="margin-top: 30px;">
    <div style="background: var(--card); border: 2px solid var(--border); border-radius: 20px; padding: 30px;">
      <h2 style="color: var(--accent); margin-bottom: 20px;">‚úèÔ∏è Test Your Knowledge</h2>
      
      <div style="margin-bottom: 25px; padding: 20px; background: rgba(156, 255, 110, 0.05); border-radius: 12px;">
        <h3 style="color: var(--accent); font-size: 1.2rem; margin-bottom: 15px;">Exercise 1: Identify Safe Operating Conditions</h3>
        <p style="line-height: 1.8; margin-bottom: 15px;">Based on what you've learned, which of these scenarios would allow Fred to safely use automated GPS-guided farming?</p>
        <div style="padding-left: 20px;">
          <p style="margin: 10px 0;">A) Ionospheric disturbance: 80%, Available satellites: 5, GPS accuracy: 35m</p>
          <p style="margin: 10px 0;">B) Ionospheric disturbance: 15%, Available satellites: 9, GPS accuracy: 3m</p>
          <p style="margin: 10px 0;">C) Ionospheric disturbance: 55%, Available satellites: 6, GPS accuracy: 18m</p>
        </div>
        <details style="margin-top: 15px; padding: 15px; background: rgba(156, 255, 110, 0.1); border-radius: 8px;">
          <summary style="cursor: pointer; font-weight: 700; color: var(--accent);">Show Answer</summary>
          <p style="margin-top: 10px; line-height: 1.8;"><strong>Answer: B</strong> - This scenario has low ionospheric disturbance (15%), plenty of satellites (9), and excellent accuracy (3m), perfect for precision agriculture. Scenario A has severe disturbance and poor accuracy. Scenario C has moderate disturbance but insufficient accuracy for automated operations.</p>
        </details>
      </div>
      
      <div style="margin-bottom: 25px; padding: 20px; background: rgba(156, 255, 110, 0.05); border-radius: 12px;">
        <h3 style="color: var(--accent); font-size: 1.2rem; margin-bottom: 15px;">Exercise 2: Calculate Impact</h3>
        <p style="line-height: 1.8; margin-bottom: 15px;">Fred needs to plant 100 acres today. With 5m GPS accuracy, he can plant at 8 km/h and complete the job in 8 hours. If a solar storm reduces accuracy to 25m, he must slow to 3 km/h. How much longer will it take?</p>
        <details style="margin-top: 15px; padding: 15px; background: rgba(156, 255, 110, 0.1); border-radius: 8px;">
          <summary style="cursor: pointer; font-weight: 700; color: var(--accent);">Show Answer</summary>
          <p style="margin-top: 10px; line-height: 1.8;"><strong>Answer: 21.3 hours (or about 13 additional hours)</strong> - At 3 km/h instead of 8 km/h, the work takes (8 km/h √∑ 3 km/h) √ó 8 hours = 21.3 hours. This means Fred would need to work across 2-3 days instead of completing in one day, significantly impacting his planting schedule and potentially affecting crop yields if planting is delayed beyond the optimal window.</p>
        </details>
      </div>
      
      <div style="margin-bottom: 25px; padding: 20px; background: rgba(156, 255, 110, 0.05); border-radius: 12px;">
        <h3 style="color: var(--accent); font-size: 1.2rem; margin-bottom: 15px;">Exercise 3: Hands-On Experiment</h3>
        <p style="line-height: 1.8; margin-bottom: 15px;"><strong>Try this simulation challenge:</strong></p>
        <ol style="line-height: 2; padding-left: 25px;">
          <li>Set ionospheric disturbance to 20%, satellites to 10, and observe the GPS signal quality</li>
          <li>Gradually increase ionospheric disturbance to 80% while keeping other values constant</li>
          <li>Note at what disturbance level the system warns about poor GPS signal</li>
          <li>Now reset disturbance to 20% and reduce satellites from 10 to 4</li>
          <li>Observe how satellite count affects performance</li>
        </ol>
        <details style="margin-top: 15px; padding: 15px; background: rgba(156, 255, 110, 0.1); border-radius: 8px;">
          <summary style="cursor: pointer; font-weight: 700; color: var(--accent);">What Did You Learn?</summary>
          <p style="margin-top: 10px; line-height: 1.8;">You should have noticed that both high ionospheric disturbance and low satellite count degrade GPS performance. The system typically warns when disturbance exceeds 60% or satellites drop below 6. Both factors compound‚Äîif you have both high disturbance AND low satellite count, the degradation is severe. This demonstrates why space weather forecasting is crucial for farmers planning their operations.</p>
        </details>
      </div>
      
      <div style="padding: 20px; background: linear-gradient(135deg, rgba(156, 255, 110, 0.1), rgba(124, 244, 255, 0.1)); border-radius: 12px; border: 2px solid var(--border);">
        <h3 style="color: var(--accent); font-size: 1.2rem; margin-bottom: 10px;">üîó Explore Real NASA Data</h3>
        <p style="line-height: 1.8; margin-bottom: 15px;">Want to see real space weather data affecting GPS?</p>
        <ul style="line-height: 2; padding-left: 25px;">
          <li><a href="https://www.swpc.noaa.gov/products/geoalert-warnings-and-alerts" target="_blank" style="color: #7cf4ff;">NOAA Space Weather Alerts</a> - Current space weather warnings</li>
          <li><a href="https://ccmc.gsfc.nasa.gov/index.php" target="_blank" style="color: #7cf4ff;">NASA CCMC</a> - Community Coordinated Modeling Center for space weather predictions</li>
          <li><a href="https://data.nasa.gov/Space-Science/Solar-Flare-Data/xh3d-jvyf" target="_blank" style="color: #7cf4ff;">NASA Solar Flare Database</a> - Historical solar flare events</li>
          <li><a href="hub.html#calendar" style="color: #7cf4ff;">Our Space Weather Calendar</a> - View upcoming and historical space weather events</li>
        </ul>
      </div>
    </div>
  </div>
  
  <script>
    const ionospheric = document.getElementById('ionospheric');
    const satellites = document.getElementById('satellites');
    const accuracy = document.getElementById('accuracy');
    const speed = document.getElementById('speed');
    
    const ionosphericValue = document.getElementById('ionosphericValue');
    const satellitesValue = document.getElementById('satellitesValue');
    const accuracyValue = document.getElementById('accuracyValue');
    const speedValue = document.getElementById('speedValue');
    const statusText = document.getElementById('statusText');
    const tractor = document.getElementById('tractor');
    const gpsSignal = document.getElementById('gpsSignal');
    const fieldDisplay = document.getElementById('fieldDisplay');
    
    let tractorX = 50;
    let tractorY = 50;
    
    function updateFarm() {
      const iono = parseInt(ionospheric.value);
      const sats = parseInt(satellites.value);
      const acc = parseInt(accuracy.value);
      const spd = parseInt(speed.value);
      
      ionosphericValue.textContent = iono + '%';
      satellitesValue.textContent = sats;
      accuracyValue.textContent = acc + ' m';
      speedValue.textContent = spd + ' km/h';
      
      // GPS signal quality
      if (iono > 70 || sats < 6) {
        gpsSignal.style.background = 'radial-gradient(circle, #ff6b6b, transparent)';
        gpsSignal.style.animationDuration = '0.5s';
      } else if (iono > 40 || sats < 8) {
        gpsSignal.style.background = 'radial-gradient(circle, #FFD166, transparent)';
        gpsSignal.style.animationDuration = '1s';
      } else {
        gpsSignal.style.background = 'radial-gradient(circle, var(--accent), transparent)';
        gpsSignal.style.animationDuration = '2s';
      }
      
      // Tractor position with drift based on accuracy
      const drift = acc / 10;
      tractorX += (Math.random() - 0.5) * drift;
      tractorY += spd / 20;
      
      // Keep tractor in bounds
      if (tractorY > fieldDisplay.clientHeight - 40) {
        tractorY = 0;
        tractorX = 50 + Math.random() * 50;
      }
      tractorX = Math.max(20, Math.min(tractorX, fieldDisplay.clientWidth - 60));
      
      tractor.style.left = tractorX + 'px';
      tractor.style.top = tractorY + 'px';
      
      // Status text
      let status = '';
      if (iono < 30 && sats >= 8 && acc <= 10) {
        status = 'Signal strong. Precision planting active with ¬±' + acc + 'm accuracy.';
      } else if (iono < 60 && sats >= 6) {
        status = 'Moderate signal degradation. Accuracy reduced to ¬±' + acc + 'm.';
      } else {
        status = 'WARNING: Poor GPS signal! Manual control recommended. Accuracy: ¬±' + acc + 'm';
      }
      statusText.textContent = status;
    }
    
    ionospheric.addEventListener('input', updateFarm);
    satellites.addEventListener('input', updateFarm);
    accuracy.addEventListener('input', updateFarm);
    speed.addEventListener('input', updateFarm);
    
    setInterval(updateFarm, 100);
    updateFarm();
  </script>
</body>
</html>
